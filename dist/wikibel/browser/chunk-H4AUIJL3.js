import{n as s,o as p}from"./chunk-B4W7MAE2.js";import{O as i,T as a,p as n}from"./chunk-MTZBWO7P.js";var o={production:!0,apiRegister:"https://wikibel.onrender.com/api/v1/members/signup",apiLogin:"https://wikibel.onrender.com/api/v1/members/login",getUser:"https://wikibel.onrender.com/api/v1/members/account",monument:"https://wikibel.onrender.com/api/v1/monuments",getRoutes:"https://wikibel.onrender.com/api/v1/routes",createRoutes:"https://wikibel.onrender.com/api/v1/routes/create",deleteRoute:"https://wikibel.onrender.com/api/v1/routes/delete"};var m=class r{constructor(e){this.http=e}apiRegister=`${o.apiRegister}`;apiLogin=`${o.apiLogin}`;getUser=`${o.getUser}`;monument=`${o.monument}`;getRoutes=`${o.getRoutes}`;createRoutes=`${o.createRoutes}`;deleteRoute=`${o.deleteRoute}`;register(e){return this.http.post(this.apiRegister,e)}login(e){return this.http.post(this.apiLogin,e)}getCurrentUser(){let e=localStorage.getItem("token");return this.http.get(this.getUser,{headers:{"access-token":e||""},withCredentials:!0})}getMonumentoById(e){let t=localStorage.getItem("token");return this.http.get(`${this.monument}/${e}`,{headers:{"access-token":t||""}})}criarRota(e){let t=localStorage.getItem("token");return this.http.post(this.createRoutes,e,{headers:{"access-token":t||""}})}getRoute(){let e=localStorage.getItem("token");return this.http.get(this.getRoutes,{headers:{"access-token":e||""}})}removerRota(e){let t=localStorage.getItem("token");console.log("Token enviado:",t),console.log("Enviando DELETE para:",`${this.deleteRoute}?route_id=${e}`);let c=new s().set("route_id",e.toString());return this.http.delete(this.deleteRoute,{headers:{"access-token":t||""},params:c}).pipe(n(3e4))}static \u0275fac=function(t){return new(t||r)(a(p))};static \u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"})};export{m as a};
