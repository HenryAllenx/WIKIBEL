import{a as w}from"./chunk-LMH4AEN2.js";import"./chunk-H4AUIJL3.js";import{d as O,e as y}from"./chunk-24R3UN2Z.js";import{g as R}from"./chunk-B4W7MAE2.js";import{$ as m,Da as x,Ha as _,Oa as b,Qa as o,Ra as n,Sa as h,Va as v,Wa as p,Xa as f,_ as l,_a as a,ab as C,ua as d,za as u}from"./chunk-MTZBWO7P.js";function M(i,e){if(i&1){let t=v();o(0,"div",7)(1,"span",8),p("click",function(){let s=l(t).$implicit,c=f();return m(c.abrirRota(s))}),a(2),n(),o(3,"button",9),p("click",function(){let s=l(t).$implicit,c=f();return m(c.excluirRota(s))}),a(4,"\u2715"),n()()}if(i&2){let t=e.$implicit;d(2),C(" ",t.name||"Rota sem nome"," ")}}var g=class i{constructor(e,t){this.rotasService=e;this.router=t}rotas=[];excluindo=!1;ngOnInit(){this.rotasService.obterRotas().subscribe({next:e=>{this.rotas=e,console.log("Rotas retornadas pela API:",e)},error:e=>{console.error("Erro ao buscar rotas:",e),alert("Erro ao carregar rotas.")}})}abrirRota(e){this.router.navigate(["/ver-rota",e.id])}excluirRota(e){confirm(`Tem certeza que deseja excluir a rota "${e.name||"Rota sem nome"}"?`)&&(console.log(`Tentando excluir rota com ID ${e.id}`),this.excluindo=!0,this.rotasService.removerRota(e.id).subscribe({next:()=>{console.log(`Rota ${e.id} exclu\xEDda com sucesso.`),this.ngOnInit()},error:r=>{console.error("Erro ao excluir rota:",r),alert("Erro ao excluir rota: "+(r.message||"Verifique o console para mais detalhes."))},complete:()=>{this.excluindo=!1}}))}static \u0275fac=function(t){return new(t||i)(u(w),u(O))};static \u0275cmp=x({type:i,selectors:[["app-tourism"]],decls:10,vars:1,consts:[[1,"container"],[1,"add-route"],["routerLink","/criar-rotas"],[1,"line"],[1,"title"],[1,"rotas-list"],["class","rota-item",4,"ngFor","ngForOf"],[1,"rota-item"],[1,"rota-nome",3,"click"],[1,"excluir-btn",3,"click"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),a(3,"Adicionar nova Rota"),n()(),h(4,"div",3),o(5,"div",4)(6,"h1"),a(7,"Rotas Existentes"),n()(),o(8,"div",5),_(9,M,5,1,"div",6),n()()),t&2&&(d(9),b("ngForOf",r.rotas))},dependencies:[y,R],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;gap:1rem}.add-route[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem;border:3px dashed #056D88;width:25rem;height:3rem;border-radius:.5rem}button[_ngcontent-%COMP%]{color:#056d88;width:23rem;border-radius:.5rem;border:none;background:transparent}span[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.line[_ngcontent-%COMP%]{background:#2e4159;width:98%;height:1px}.title[_ngcontent-%COMP%]{color:#056d88;width:25rem;display:flex;justify-content:flex-start;padding-left:1rem}.rotas-list[_ngcontent-%COMP%]{width:25rem;display:flex;flex-direction:column;gap:1.5rem}.rotas-list[_ngcontent-%COMP%]   .rota-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 1rem;margin-top:1rem;width:23rem;height:3.5rem;background:#fff;box-shadow:0 4px 4px #00000040;border:1px solid grey;border-radius:1rem;transition:background .3s ease-in-out;position:relative}.rota-nome[_ngcontent-%COMP%]{color:#056d88;font-weight:700;font-size:1rem;text-align:left;flex:1;cursor:pointer}.excluir-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:red;font-size:1.5rem;cursor:pointer;margin-left:1rem;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;transition:transform .2s}.excluir-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}']})};export{g as default};
